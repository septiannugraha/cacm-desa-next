# Production Environment Variables - EXTERNAL DATABASE
# Copy this file to .env.production when using an existing database
# NEVER commit .env.production to git!

# =============================================================================
# DATABASE CONFIGURATION - EXTERNAL DATABASE
# =============================================================================
# Replace with your actual database connection details

# Option 1: Database on same server (localhost from Docker perspective is host.docker.internal)
# DATABASE_URL="sqlserver://host.docker.internal:1433;database=CACMDesa;user=sa;password=YourStrong@Passw0rd2024!;encrypt=false;trustServerCertificate=true"

# Option 2: Database on different server (use actual IP or hostname)
DATABASE_URL="sqlserver://192.168.1.100:1433;database=CACMDesa;user=sa;password=YourStrong@Passw0rd2024!;encrypt=false;trustServerCertificate=true"

# Option 3: Database with domain name
# DATABASE_URL="sqlserver://db.yourdomain.com:1433;database=CACMDesa;user=sa;password=YourStrong@Passw0rd2024!;encrypt=false;trustServerCertificate=true"

# Option 4: With SSL/TLS encryption (recommended for remote databases)
# DATABASE_URL="sqlserver://db.yourdomain.com:1433;database=CACMDesa;user=sa;password=YourStrong@Passw0rd2024!;encrypt=true;trustServerCertificate=false"

# =============================================================================
# NEXTAUTH CONFIGURATION
# =============================================================================
# IMPORTANT: Generate a new secret for production!
# Run: openssl rand -base64 32
NEXTAUTH_SECRET=your-super-secret-key-change-this-in-production

# Your production URL (include https:// and domain)
NEXTAUTH_URL=https://your-domain.com

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
APP_PORT=3000
NODE_ENV=production

# =============================================================================
# NGINX CONFIGURATION (if using nginx profile)
# =============================================================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# =============================================================================
# IMPORTANT NOTES FOR EXTERNAL DATABASE
# =============================================================================
#
# 1. CONNECTING TO DATABASE ON SAME HOST:
#    - Use 'host.docker.internal' instead of 'localhost'
#    - Docker containers can't access host's localhost directly
#    - Example: sqlserver://host.docker.internal:1433;...
#
# 2. FIREWALL RULES:
#    - Ensure port 1433 is accessible from Docker container
#    - If database is on different server, allow incoming connections
#
# 3. SQL SERVER CONFIGURATION:
#    - Enable TCP/IP protocol in SQL Server Configuration Manager
#    - Allow remote connections in SQL Server settings
#    - Create database 'CACMDesa' if it doesn't exist
#
# 4. CREDENTIALS:
#    - Use a dedicated SQL user (not sa) for production
#    - Grant only necessary permissions to the database
#
# 5. NETWORK SECURITY:
#    - Use encrypt=true for remote databases
#    - Consider VPN or SSH tunnel for sensitive data
#    - Use firewall rules to restrict database access
#
# 6. TESTING CONNECTION:
#    - Test connection before deploying: make test-connection
#    - Check health endpoint: curl http://localhost:3000/api/health
